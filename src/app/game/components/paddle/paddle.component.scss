@use "abstracts/mixins" as mixins;
@use "abstracts/colors" as colors;

$paddle-shadow-color: darken(colors.$primary-light, 20%);
$paddle-primary-shadow: 0px 0px 40px $paddle-shadow-color,
  0px 0px 20px $paddle-shadow-color;
$paddle-background: lighten(colors.$primary-light, 15%);
$paddle-width: clamp(0.5rem, 0.75vw, 1rem);

$paddle-hit-background: lighten(colors.$red, 20%);
$paddle-hit-shadow: 0px 0px 40px $paddle-hit-background,
  0px 0px 20px $paddle-hit-background;

:host {
  height: 25%;
  max-height: 150px;
  position: absolute;

  &:before {
    position: relative;
    height: 100%;
    width: $paddle-width;
    border: 4px solid;
    border-color: $paddle-background;
    filter: blur(0.5rem);
    border-radius: 1rem;
    transition: border-color 0.2s ease;
  }

  div {
    position: relative;
    width: $paddle-width;
    height: 100%;
    background-color: $paddle-background;
    transition: background-color 0.2s ease;

    &,
    &:after,
    &:before {
      box-shadow: $paddle-primary-shadow;
      transition: box-shadow 0.2s ease;
    }

    &:after,
    &:before {
      left: 0;
    }

    &:before {
      @include mixins.triangle("up", calc($paddle-width/2), $paddle-background);
      top: calc(calc($paddle-width/2) * -1);
      transition: border-bottom-color 0.2s ease;
    }

    &:after {
      @include mixins.triangle(
        "down",
        calc($paddle-width/2),
        $paddle-background
      );
      top: calc(100%);
      transition: border-top-color 0.2s ease;
    }

    &.hit {
      background-color: $paddle-hit-background;
      &,
      &:after,
      &:before {
        box-shadow: $paddle-hit-shadow;
      }

      &:before {
        border-bottom-color: $paddle-hit-background;
      }

      &:after {
        border-top-color: $paddle-hit-background;
      }
    }
  }
}
